{
  "kind": "build_request",
  "title": "Fix runtime error in W.R.A.I.T.H. portal",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Identify and fix the error occurring in the W.R.A.I.T.H. portal after the Version 12 deployment that added admin access across all clearance level departments. Inspect Admin.tsx, DepartmentManager.tsx, and useQueries.ts for broken references, missing imports, type mismatches, or runtime exceptions introduced by the latest changes, and resolve them.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "fix the error"
        ]
      },
      "acceptanceCriteria": [
        "The application loads without any console errors or blank screens",
        "The Admin page renders all tabs (Agents, Missions, Assets, Most Wanted, Departments) without errors",
        "The Departments tab displays all clearance-level department cards correctly",
        "All existing CRUD operations for agents, missions, assets, and most-wanted continue to function",
        "No TypeScript compilation errors are present"
      ]
    }
  ],
  "constraints": [
    "Do not change the backend data schema or existing CRUD API surface",
    "Do not modify files under frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or frontend/src/components/ui"
  ],
  "nonGoals": [
    "Adding new features beyond what is needed to fix the error",
    "Redesigning the UI or changing the visual theme",
    "Adding role-based access restrictions or audit logging"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}